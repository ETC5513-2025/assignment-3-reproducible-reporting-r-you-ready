---
title: "From Deprivation to Degree: Exploring the Impact of Local Income Levels on Youth Education in England"
author: Ruyu Li, Dev Karan Gur


format: 
  html:
    fontsize: 13pt 
    toc: true
    toc-title: Contents
    theme: cosmo
    citation-hover: true
    crossrefs-hover: true
    code-overflow: wrap
    anchor-sections: true
    df-print: kable
  pdf:
    toc: true
    pdf-engine: xelatex
    toc-title: Contents
    papersize: a4
    linestretch: 1.25
    geometry: 
      - top=20mm
      - bottom=20mm
      - left=20mm
      - right=20mm
    fontsize: 11pt
    df-print: kable
  
knitr:
  opts_chunk:
    out.width: "70%"
    fig.align: "center"
execute: 
  code-overlay:
    margin: "auto"

crossref: 
  fig-title: Figure
  tbl-title: Table
  fig-prefix: Figure
  tbl-prefix: :Table
  labels: arabic

embed-resources: true
fig-cap-location: bottom
number-sections: true
editor: visual
---

## Research Question

**Does the income level of a town affect the educational outcomes of young people aged 16 to 22?**

## Introduction

Educational outcomes shape the long-term life trajectories of young people. However, disparities in local income levels may lead to unequal access to educational opportunities. This report investigates whether a town’s income deprivation level is associated with educational attainment among youth in England. We focus on three key milestones: achieving a Level 3 qualification at age 18, enrolling in full-time higher education at 19, and obtaining a Level 6 or higher qualification by age 22. Using a town-level dataset that excludes major cities, we analyze trends across high-, mid-, and low-income towns. The hypothesis is that young people from lower deprivation (higher income) towns perform better educationally than those from highly deprived (lower income) areas. This has implications for educational equity and social mobility. The findings may support targeted policy interventions in more deprived regions.

## Dataset Description

The dataset consists of 1,104 entries representing towns in England, focusing on local socioeconomic and educational data. Cities are excluded to highlight smaller communities.

**Key variables include:**

\- `income_flag`: Groups towns into "Higher", "Mid", and "Lower" deprivation.

\- `level_3_at_age_18`: % of youth earning Level 3 qualifications by age 18.

\- `activity_at_age_19_full_time_higher_education`: % enrolled in higher ed at 19.

\- `highest_level_qualification_achieved_by_age_22_level_6_or_above`: % reaching a bachelor’s degree or higher by 22.

These indicators allow us to track progression and examine socioeconomic impact on academic success.

## Methodology

This study examines the relationship between income levels in towns and the educational outcomes of young people. We used a dataset of 1,104 towns in England, excluding cities, and focused on three educational benchmarks:

Level 3 qualification attainment by age 18

Participation in full-time higher education at age 19

Achievement of Level 6 or higher qualifications by age 22

The dataset was cleaned by removing rows with missing values in the outcome variables and filtering out towns labeled as "Cities" in the income_flag column. The income_flag variable, which categorizes towns into "Higher", "Mid", and "Lower" deprivation, was used to group and compare educational metrics.

The table below presents the average outcome for each education stage across income groups. A grouped bar plot is also generated to visually compare these values.

```{r}
library(dplyr)
library(tidyr)
library(ggplot2)

# Loading and cleaning data
edu_df <- read.csv("~/Documents/ETC5513/Assignment 3/english_education.csv")
edu_df_clean <- edu_df %>%
  filter(income_flag != "Cities") %>%
  drop_na(
    level_3_at_age_18,
    activity_at_age_19_full_time_higher_education,
    highest_level_qualification_achieved_by_age_22_level_6_or_above
  ) %>%
  mutate(income_flag = factor(income_flag,
           levels = c("Higher deprivation towns",
                      "Mid deprivation towns",
                      "Lower deprivation towns")))

# Summarising table
summary_df <- edu_df_clean %>%
  group_by(income_flag) %>%
  summarise(
    level3 = mean(level_3_at_age_18),
    uni19 = mean(activity_at_age_19_full_time_higher_education),
    level6 = mean(highest_level_qualification_achieved_by_age_22_level_6_or_above)
  )

summary_df

```

```{r}
summary_long <- summary_df %>%
  pivot_longer(cols = c(level3, uni19, level6), names_to = "education_stage", values_to = "mean_value")

ggplot(summary_long, aes(x = income_flag, y = mean_value, fill = education_stage)) +
  geom_col(position = "dodge", width = 0.7) +
  scale_fill_manual(values = c("level3" = "#4C72B0", "uni19" = "#55A868", "level6" = "#C44E52"),
                    labels = c("Level 3 at Age 18", "University at 19", "Level 6+ by Age 22")) +
  labs(x = "Income Deprivation Group", y = "Average Proportion", fill = "Education Stage") +
  theme_minimal()

```
