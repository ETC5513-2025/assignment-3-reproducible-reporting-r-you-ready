% Modified version of elegantpaper.cls
% Original by the LaTeX3 Project (LPPL v1.3c)
% Customized for academic assignment (colors, fonts, title formatting)

\documentclass[11pt,en]{../resources/elegantpaper}

% Required for citation formatting with Pandoc + CSL
\providecommand{\citeproc}[2]{\if\relax\detokenize{#2}\relax #1\else #2\fi}
\providecommand{\citeproctext}[2]{#1}

\usepackage{bookmark}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}} 

% Safe definition of cslhangindent
\makeatletter
\@ifundefined{cslhangindent}{
  \newlength{\cslhangindent}
  \setlength{\cslhangindent}{1.5em}
}{}
\makeatother

% Environment for formatting CSL-based reference lists
\newenvironment{CSLReferences}[2]
 {
  \begin{list}{}{
    \setlength{\leftmargin}{\cslhangindent}
    \setlength{\itemindent}{-\cslhangindent}
    \setlength{\itemsep}{#2\baselineskip}
    \setlength{\parsep}{0pt}
    \setlength{\topsep}{0pt}}
  \setlength{\parskip}{0pt}
  \setlength{\parindent}{0pt}
}
{\end{list}}

% Title styling
\usepackage{titling}
\setlength{\droptitle}{0.35\textheight}

\usepackage{xcolor}
\definecolor{TitleColor}{HTML}{800000}
\definecolor{SubtitleColor}{HTML}{996633}

\pretitle{%
  \begin{center}
  \Huge\bfseries\textcolor{TitleColor}
}
\posttitle{\par\end{center}\vspace{0.5em}}

\predate{%
  \begin{center}
  \large\textcolor{SubtitleColor}
}
\postdate{\par\end{center}}

\preauthor{\begin{center}
  \large
  \lineskip 0.5em%
  \begin{tabular}[t]{c}}
\postauthor{\end{tabular}\par\end{center}}

\predate{\begin{center}\large}
\postdate{\par\end{center}}

\title{$title$ \\[1ex] \large $subtitle$}
\author{$author$}
\date{$date$}

% Code block styling
\usepackage{microtype}
\providecommand{\microtypesetup}[1]{}
\usepackage[T1]{fontenc}
\usepackage[htt]{hyphenat}
\usepackage{color}
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}

\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{
  breaklines,
  fontsize=\small,
  commandchars=\\\{\}
}

% Pandoc syntax highlighting
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.58,0.00,0.82}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.00,0.56,0.56}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{#1}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.50,0.00,0.50}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}

% Tables, spacing
\usepackage{array}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.7em}
\usepackage{booktabs}
\renewcommand{\arraystretch}{1.3}
\newcolumntype{L}[1]{>{\ttfamily\raggedright\arraybackslash}p{#1}} 
\usepackage{longtable}
\usepackage{subcaption}
\usepackage{float}

\providecommand{\pandocbounded}[1]{#1}

% Section formatting
\usepackage{titlesec}
\definecolor{SectionColor}{HTML}{800000}
\definecolor{SectionUnderline}{HTML}{996633}
\definecolor{SubsectionColor}{HTML}{996633}
\definecolor{SubsubsectionColor}{HTML}{b36b00}
\definecolor{ParagraphColor}{HTML}{cc9900}

\titleformat{\section}
  {\normalfont\Large\bfseries\color{SectionColor}}{\thesection}{1em}{}
\titlespacing*{\section}{0pt}{2.5ex plus 1ex minus .2ex}{0.5ex}
\titleformat{\section}
  {\normalfont\Large\bfseries\color{SectionColor}}{\thesection}{1em}{}
  [\color{SectionUnderline}\titlerule]

\titleformat{\subsection}
  {\normalfont\large\bfseries\color{SubsectionColor}}{\thesubsection}{1em}{}

\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries\color{SubsubsectionColor}}{\thesubsubsection}{1em}{}

\begin{document}

% Title and TOC
\pagenumbering{gobble}
\maketitle
\thispagestyle{empty}
\clearpage

\tableofcontents
\thispagestyle{empty}
\clearpage

% Body
\pagenumbering{arabic}
\setcounter{page}{1}
$body$

\printbibliography

\end{document}